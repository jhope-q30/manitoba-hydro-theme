.#{$prefix}header {

    display:flex;
    justify-content:flex-end;
    flex-wrap:wrap;
    background-color: var( --#{$prefix}white );

    @media ( min-width: map-get( $breakpoints, "lg" ) ){ 
        
        @include content-width();

        padding-top:map-get( $spacing, 'md' );
    
    }

    .#{$prefix}logo { /** logo flex expands to fill open space on desktop */

        flex-shrink:1;
        flex-grow:1;
        align-self:center;

        > a { 
            
            display:inline-block;
            padding:map-get( $spacing, "sm" ) map-get( $gutters, "sm" );

            @media ( min-width: map-get( $breakpoints, "lg" ) ){ padding:0; }
        
        }

    }

    .#{$prefix}menu-group {

        padding:map-get( $spacing, 'md' ) 0;
        @media ( min-width: map-get( $breakpoints, "lg" ) ){ padding:0; }

        .#{$prefix}item {

            padding:map-get( $spacing, 'sm' ) map-get( $gutters, "sm" );
            @media ( min-width: map-get( $breakpoints, "lg" ) ){ padding:0 map-get( $spacing, 'sm' ); }
        
        }

        &.#{$prefix}links {

            @media ( min-width: map-get( $breakpoints, "lg" ) ){

                &:not( .#{$prefix}nav-mobile ) {

                    display:flex;
                    align-items:center;
                    align-self:center;

                }
            
            }

            .#{$prefix}item {

                a {

                    text-decoration:none;

                    @include on-event { text-decoration:underline; }

                }

                ul.#{$prefix}links-list {

                    @include reset-element();
                    @media ( max-width: map-get( $breakpoints, "lg" ) ){ padding:map-get( $spacing, 'md' ) 0; }

                    > li { 
                        
                        @include reset-element();
                        @media ( min-width: map-get( $breakpoints, "lg" ) ){ display:inline-block; }

                        > a {

                            @include text-link();

                            display:block;
                            font-size:map-get( $font-size, 'sm' );
                            padding:map-get( $spacing, 'sm' ) map-get( $spacing, 'md' );

                            @media ( min-width: map-get( $breakpoints, "lg" ) ){ padding:0 map-get( $spacing, 'sm' ); }

                        }
                    
                    }
                
                }

            }

        }
        /** buttons/toggle */
        &.#{$prefix}buttons {

            display:flex;
            align-items:center;
            align-self:center;

            .#{$prefix}item {

                button {

                    @include reset-default-btn();
                    margin:0;
                    padding:0;
                    border:0;
                    display:block;
                    background:none;

                }
                
                &.#{$prefix}toggle {

                    @media ( min-width: map-get( $breakpoints, "lg" ) ){ display:none; }

                    button#toggler {

                        padding:0 map-get( $spacing, 'xs' );
                        background-color:var( --#{$prefix}white );
                        cursor:pointer;

                        @include x-transition( color );

                        > span { 
                            
                            padding-top:#{ map-get( $spacing, 'sm' ) + map-get( $spacing, 'xs' ) };
                            padding-right:#{ map-get( $spacing, 'lg' ) - map-get( $spacing, 'xs' ) };
                            padding-bottom:#{ map-get( $spacing, 'sm' ) + map-get( $spacing, 'xs' ) };
                            padding-left:#{ map-get( $spacing, 'lg' ) - map-get( $spacing, 'xs' ) };
                            text-transform:uppercase;
                            display:block;
                            font-size:map-get( $font-size, 'sm' );
                            font-weight:map-get( $font-weight, 'demi' );
                            background-image:map-get( $svgs, 'menu' );
                            background-position:100% 50%;
                            background-repeat:no-repeat;

                            > span {

                                display:block;

                                &.close { display:none; }

                            }
                        
                        }

                        &[aria-expanded="true"] {
                            
                            > span { 
                                
                                background-image:map-get( $svgs, 'menu-open' );

                                > span {
                                    
                                    display:none;
                                    
                                    &.close { display:block; }
                                
                                }
                            
                            }
                            
                        }
                        &:hover {

                            color:var( --#{$prefix}wave-blue );

                            &[aria-expanded="false"] { > span { background-image:map-get( $svgs, 'menu-hover' ); } }
                        
                        }
                        
                    }
        
                }

            }

        }

    }

    /** search field */
    .#{$prefix}search {

        padding:map-get( $spacing, 'md' );

        @media ( min-width: map-get( $breakpoints, "lg" ) ){ 

            align-self:center;
            padding:0 map-get( $spacing, 'md' );

            .#{$prefix}search-container { max-width:map-get( $max-widths, 'xs' ); }

        }

    }

    /** navigation items that get toggled on small screens */
    @media ( min-width: map-get( $breakpoints, "lg" ) ){ .#{$prefix}nav-mobile { display:none; } }
    @media ( max-width: map-get( $breakpoints, "lg" ) ){

        .#{$prefix}nav-desktop { display:none; }
        .#{$prefix}nav-toggle {

            display:none;
            opacity:0;
            @include x-transition( all );

            &.#{$prefix}nav-open { display:block; }
            &.#{$prefix}nav-fade { opacity:1; }

        }

    }

}