.#{$prefix}header {

    margin:0 auto;
    padding:0;
    width:100%;
    max-width:map-get( $max-widths, 'xxl' );
    display:flex;
    justify-content:flex-end;
    flex-wrap:wrap;
    background-color:var( --mht-white );

    @media ( max-width: map-get( $breakpoints, "lg" ) ){
        
        position:fixed;
        @include dropshadow();

    }

    > a.#{$prefix}logo { /** logo flex expands to fill open space on desktop */

        flex-shrink:1;
        flex-grow:1;
        align-self:center;
        padding:map-get( $spacing, 'sm' );

        > img {

            width:130px;
            height:49px;

        }

    }

    .#{$prefix}menu-group {

        .#{$prefix}item { 
            
            @media ( min-width: map-get( $breakpoints, "lg" ) ){ padding:0 map-get( $spacing, 'sm' ); }
        
        }

        &.#{$prefix}links {

            @media ( min-width: map-get( $breakpoints, "lg" ) ){
                
                display:flex;
                align-items:center;
                align-self:center;
            
            }

            .#{$prefix}item {

                a {

                    text-decoration:none;
                    color:var( --mht-black );

                    @include on-event { text-decoration:underline; }

                }

                ul.#{$prefix}menu-list {

                    @include reset-element();
                    li { 
                        
                        @include reset-element();
                        @media ( min-width: map-get( $breakpoints, "lg" ) ){ display:inline-block; }

                        > a {

                            display:block;
                            padding:0 map-get( $spacing, 'sm' );
                            color:var( --mht-hydro-blue );

                        }
                    
                    }
                
                }

            }

        }
        /** buttons/toggle */
        &.#{$prefix}buttons {

            display:flex;
            align-items:center;
            align-self:center;

            @media ( max-width: map-get( $breakpoints, "lg" ) ){ padding-right:#{ map-get( $spacing, 'lg' ) - map-get( $spacing, 'xs' ) }; }

            .#{$prefix}item {

                button {

                    @include reset-default-btn();
                    margin:0;
                    padding:0;
                    border:0;
                    display:block;
                    background:none;
                    background-repeat:no-repeat;

                }
                
                &.#{$prefix}toggle {

                    width:29px;
                    height:30px;
                    @media ( min-width: map-get( $breakpoints, "lg" ) ){ display:none; }

                    button#toggler {
                        
                        width:29px;
                        height:30px;
                        background-image:map-get( $svgs, 'menu' );
                        cursor:pointer;
                        
                    }
        
                }

            }

        }

    }

    /** search field */
    .#{$prefix}search {

        @media ( min-width: map-get( $breakpoints, "lg" ) ){ 

            align-self:center;
            padding:0 map-get( $spacing, 'md' );

            .#{$prefix}search-container { max-width:map-get( $max-widths, 'xs' ); }

        }

    }
   
    .#{$prefix}navigation {

        width:100%;
        flex-shrink:0;
        flex-grow:1;
        margin-top:#{ map-get( $spacing, 'lg' ) - map-get( $spacing, 'sm' ) };
        padding-top:map-get( $spacing, 'xs' );
        border-top:1px solid var( --mht-gray-300 );

        ul.#{$prefix}menu-list {

            @include reset-element();
            @media ( min-width: map-get( $breakpoints, "lg" ) ){
            
                display:flex;
                justify-content:center;
            
            }

            li.#{$prefix}menu-item {

                @include reset-element();
                position:relative;

                /** sub menu toggle button+ul */
                > button {

                    @include reset-default-btn();
                    @include reset-element();

                    text-align:left;
                    background:var( --mht-white );

                }
                > ul {

                    @include reset-element();
                    @include x-transition( all );
                    display:none;
                    width:100%;
                    opacity:0;

                    @media ( min-width: map-get( $breakpoints, "lg" ) ){

                        @include dropshadow();
                        position:absolute;
                        max-width:map-get( $max-widths, 'xs' );

                    }

                    > li {

                        @include reset-element();

                        > a {

                            display:block;

                            &.active {

                                font-weight:map-get( $font-weight, 'bold' );

                            }

                        }

                    }
                    
                    &.#{$prefix}menu-open { display:block; }
                    &.#{$prefix}menu-fade { opacity:1; }

                }
                /** top level link, no sub */
                > a {

                    ///padding:#{ map-get( $spacing, 'md' ) - map-get( $spacing, 'xs' ) } map-get( $spacing, 'md' );
                    text-decoration:none;
                    color:var( --mht-black );
                    display:block;

                }

            }

        }

    }

    /** navigation items that get toggled on small screens */
    @media ( min-width: map-get( $breakpoints, "lg" ) ){ .#{$prefix}nav-mobile { display:none; } }
    @media ( max-width: map-get( $breakpoints, "lg" ) ){

        .#{$prefix}nav-desktop { display:none; }
        .#{$prefix}nav-toggle {

            display:none;
            opacity:0;
            @include x-transition( all );

            &.#{$prefix}nav-open { display:block; }
            &.#{$prefix}nav-fade { opacity:1; }

        }

    }

}
